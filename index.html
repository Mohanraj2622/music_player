<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hormoniq Player</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: linear-gradient(to bottom, #1DB954, #121212);
      color: white;
      min-height: 100vh;
      overscroll-behavior: contain;
    }
    .container {
      width: 100%;
      max-width: 800px;
      padding: 16px;
      box-sizing: border-box;
    }
    .search-bar {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .search-bar input {
      width: 100%;
      padding: 10px;
      border-radius: 20px;
      border: none;
      font-size: 16px;
      outline: none;
    }
    .track-list {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 300px;
      overflow-y: auto;
    }
    .track {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #444;
      cursor: pointer;
      transition: background 0.2s;
    }
    .track:hover, .track.active {
      background: #333;
    }
    .player {
      background: #222;
      border-radius: 16px;
      padding: 16px;
      margin-top: 20px;
      text-align: center;
    }
    .player img {
      width: 100%;
      max-width: 300px;
      height: 300px;
      object-fit: cover;
      border-radius: 16px;
      margin-bottom: 16px;
    }
    .player-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      margin-bottom: 16px;
    }
    .player-controls button {
      background: none;
      border: none;
      color: white;
      font-size: 24px;
      cursor: pointer;
      transition: color 0.2s;
    }
    .player-controls button:hover {
      color: #1DB954;
    }
    .progress-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
    }
    .progress-bar input {
      flex: 1;
    }
    .volume-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="search-bar">
      <input id="search" type="text" placeholder="Search for a song...">
    </div>

    <ul id="trackList" class="track-list"></ul>

    <div class="player">
      <img id="cover" src="/api/placeholder/300/300" alt="Album Cover">
      <h2 id="title">Select a Song</h2>
      <p id="artist">Artist</p>

      <div class="progress-bar">
        <span id="currentTime">0:00</span>
        <input id="progress" type="range" min="0" max="100" value="0">
        <span id="duration">0:00</span>
      </div>

      <div class="player-controls">
        <button id="prev" aria-label="Previous Song">‚èÆÔ∏è</button>
        <button id="playPause" aria-label="Play/Pause">‚ñ∂Ô∏è</button>
        <button id="next" aria-label="Next Song">‚è≠Ô∏è</button>
      </div>

      <div class="volume-controls">
        <label for="volume">üîä</label>
        <input id="volume" type="range" min="0" max="100" value="100">
      </div>
    </div>
  </div>

  <script>
// Existing code remains the same
const SONGS = [
  {
    title: "Rowdy Baby",
    artist: "Dhanush",
    url: "Thalli-Pogathey.mp3",
    coverUrl: "https://example.com/cover1.jpg",
  },
  {
    title: "Another Song",
    artist: "Artist Name",
    url: "Adiye-MassTamilan.fm.mp3",
    coverUrl: "https://example.com/cover2.jpg",
  }
];

let currentSongIndex = 0;
let isPlaying = false;

const audio = new Audio();
const trackList = document.getElementById('trackList');
const searchInput = document.getElementById('search');

const title = document.getElementById('title');
const artist = document.getElementById('artist');
const cover = document.getElementById('cover');
const playPauseButton = document.getElementById('playPause');
const prevButton = document.getElementById('prev');
const nextButton = document.getElementById('next');
const progress = document.getElementById('progress');
const currentTimeDisplay = document.getElementById('currentTime');
const durationDisplay = document.getElementById('duration');
const volume = document.getElementById('volume');

// Load the selected song and update UI elements
const loadSong = (index) => {
  const song = SONGS[index];
  title.textContent = song.title;
  artist.textContent = song.artist;
  cover.src = song.coverUrl;
  audio.src = song.url;
  progress.value = 0;
  currentTimeDisplay.textContent = "0:00";
  durationDisplay.textContent = "0:00";
};

// Play song and update the play button state
const playSong = () => {
  isPlaying = true;
  audio.play();
  playPauseButton.textContent = '‚è∏Ô∏è';
};

// Pause song and update the play button state
const pauseSong = () => {
  isPlaying = false;
  audio.pause();
  playPauseButton.textContent = '‚ñ∂Ô∏è';
};

// Toggle play/pause on button click
const togglePlayPause = () => {
  isPlaying ? pauseSong() : playSong();
};

// Play next song when current song ends
const playNextSong = () => {
  currentSongIndex = (currentSongIndex + 1) % SONGS.length;
  loadSong(currentSongIndex);
  playSong();
};

// Play previous song
const playPrevSong = () => {
  currentSongIndex = (currentSongIndex - 1 + SONGS.length) % SONGS.length;
  loadSong(currentSongIndex);
  playSong();
};

// Update the progress bar and time displays while the song is playing
const updateProgress = () => {
  const { currentTime, duration } = audio;
  progress.value = (currentTime / duration) * 100 || 0;
  currentTimeDisplay.textContent = formatTime(currentTime);
  durationDisplay.textContent = formatTime(duration);
};

// Format time in mm:ss format
const formatTime = (time) => {
  const minutes = Math.floor(time / 60);
  const seconds = Math.floor(time % 60).toString().padStart(2, '0');
  return `${minutes}:${seconds}`;
};

// Seek to a specific time in the song
const handleSeek = (e) => {
  const seekTime = (e.target.value / 100) * audio.duration;
  audio.currentTime = seekTime;
};

// Update volume when user adjusts the volume slider
const updateVolume = (e) => {
  audio.volume = e.target.value / 100;
};

// Filter songs based on the search input
const filterSongs = () => {
  const query = searchInput.value.toLowerCase();
  const filteredSongs = SONGS.filter((song) => song.title.toLowerCase().includes(query));
  renderSongList(filteredSongs);
};

// Render the list of songs based on the filter
const renderSongList = (songs) => {
  trackList.innerHTML = '';
  songs.forEach((song, index) => {
    const li = document.createElement('li');
    li.textContent = `${song.title} - ${song.artist}`;
    li.classList.add('track');
    li.addEventListener('click', () => {
      currentSongIndex = index;
      loadSong(currentSongIndex);
      playSong();
    });
    trackList.appendChild(li);
  });
};

// Event listener for when the song finishes
audio.addEventListener('ended', () => {
  playNextSong(); // Automatically play next song when current song ends
});

// Event listeners for various buttons and inputs
searchInput.addEventListener('input', filterSongs);
playPauseButton.addEventListener('click', togglePlayPause);
nextButton.addEventListener('click', playNextSong);
prevButton.addEventListener('click', playPrevSong);
progress.addEventListener('input', handleSeek);
volume.addEventListener('input', updateVolume);

// Load the first song and render the song list initially
loadSong(currentSongIndex);
renderSongList(SONGS);
setInterval(updateProgress, 1000); // Update progress bar every second

</script>
</body>
</html>
